# Build Laboratory
activity_build_laboratory = {
	expiration_days = 1200
	solo = yes
	color = { 0.1093 0.1304 0.1419 1 }
	valid = {
		activity_owner = {
			is_alive = yes
			is_imprisoned = no
		}
	}
	on_spawn = {
		invite_character_to_activity = activity_owner
		accept_invitation_for_character = activity_owner
		
		activity_owner = {
			set_variable = {
				name = laboratory_level 
				value = 0
			}
			set_variable = {
				name = laboratory_glass_level 
				value = 0
			}
			set_variable = {
				name = laboratory_crucible_level 
				value = 0
			}
			set_variable = {
				name = laboratory_iron_tools_level 
				value = 0
			}
			set_variable = {
				name = laboratory_books_level 
				value = 0
			}
			set_variable = {
				name = laboratory_spellcircles_level 
				value = 0
			}
		}
	}
	on_activate = {
		activity_owner = {
			add_character_flag = building_magical_laboratory
			
			#To trigger the event to choose lab location
			trigger_event = ancient_magic_alchemy.001
		}
	}
	on_complete = {
		remove_character_flag = building_magical_laboratory
	}
	on_invalidated = {
		complete_activity = yes
		remove_character_flag = building_magical_laboratory
	}
}
